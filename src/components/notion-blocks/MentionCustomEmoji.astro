---
import type { Mention } from "@/lib/interfaces.ts";
import { filePath } from "@/lib/blog-helpers.ts";

export interface Props {
	mention: Mention;
}

const { mention } = Astro.props;

if (!mention.CustomEmoji) {
	return null;
}

const { Name, Url, OptimizedUrl } = mention.CustomEmoji;

if (!Url) {
	return null;
}

const iconPath = filePath(new URL(OptimizedUrl || Url));
---

<img
	src={iconPath}
	alt={`custom emoji with name ${Name}`}
	aria-label={`custom emoji with name ${Name}`}
	class="no-rss mb-0.5 inline h-4 w-4 object-contain align-sub text-transparent"
/>
